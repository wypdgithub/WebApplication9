
@{
    ViewData["Title"] = "aa";
}

<h1>aa</h1>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>React 实例</title>
    <script src="https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"></script>
    <script src="https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"></script>
    <script src="~/js/layui.js"></script>
    <link href="~/js/layui.css" rel="stylesheet" />

</head>
<body>
    <div id="cun"></div>
    <script type="text/babel">
        class CrudComponent extends React.Component{
        constructor(props){
        super(props)
        this.state={
        users:[]
        }
        }
        componentDidMount () {// 在此方法中启动定时器/绑定监听/发送ajax请求
        const getAllUsersUrl="http://localhost:62023/api/Some/Show"
        fetch(getAllUsersUrl,{method:"GET"})
        .then(response=>response.json())
        .then(data=>{
        console.log(data)
        this.setState({
        users:data
        })
        })
        }
        render(){
        return (
        <div>
            <table className="layui-table">
                <thead>
                    <tr>
                        <th>id</th>
                        <th>用户名</th>
                        <th>密码</th>
                        
                    </tr>
                </thead>
                <tbody>
                    {
                    this.state.users.map(
                    (user, index) =>
                    <tr key={user.id}>
                        <td>{user.id}</td>
                        <td>{user.name}</td>
                        <td>{user.age}</td>
                    </tr>)
                    }
                </tbody>
            </table>
        </div>
        )
        }
        }
        ReactDOM.render(
        <CrudComponent />,document.getElementById("cun"))
    </script>
</body>
</html>

